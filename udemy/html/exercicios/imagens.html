<div wm-slider>
    <p>
        <img src="http://files.cod3r.com.br/curso-web/imagem1.jpg"
            alt="Muro da Cidade"
            width="513" height="342"
            title="Muro da Cidade por Tarso Bessa">
    </p>
    
    <p>
        <img src="http://files.cod3r.com.br/curso-web/imagem2.gif"
            alt="Intro Cod3r" height="342">
    </p>
    
    <p class="circular">
        <img src="http://files.cod3r.com.br/curso-web/imagem3.png"
            alt="Rio de Janeiro" height="342">
    </p>
    
    <p class="texto">
        <img src="http://files.cod3r.com.br/curso-web/avatar.jpg"
            alt="Avatar" height="50" align="left">
       Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolore incidunt delectus doloribus cumque reiciendis minima fuga ratione fugit sapiente perferendis rerum ipsum labore quaerat voluptas, iusto natus quis qui debitis tenetur. Nemo, minus sit odit eveniet expedita dignissimos sint eligendi nobis dolorem cum enim, qui necessitatibus eum et? Hic magni optio voluptatum voluptas temporibus nihil inventore obcaecati velit non. Dolorem omnis modi corporis porro in quae consectetur est suscipit eos ipsum similique deserunt at incidunt, molestias culpa voluptate aliquam, atque veniam aperiam fuga alias architecto! Voluptatibus fuga quam, soluta quo asperiores, necessitatibus reprehenderit dicta fugit fugiat, eos perferendis doloremque nihil autem modi iusto deleniti. Minima recusandae esse corrupti, omnis iusto doloribus quasi! Quidem accusantium, eius sequi eligendi nisi maiores. A nostrum perferendis temporibus voluptatibus, dicta natus ducimus enim deserunt eligendi id placeat eum fugiat quaerat neque esse, atque incidunt ullam consectetur dolor. Facere officiis similique error cum voluptatibus obcaecati sit eveniet, tempore labore et. Accusamus commodi odio tempora officiis quasi consequatur, quos ut rerum sit ex odit tenetur placeat nemo natus distinctio libero? Tempore rem unde dolore temporibus dignissimos voluptate nostrum blanditiis saepe, doloremque recusandae neque accusantium earum impedit suscipit iure? Autem quibusdam magnam modi quo quisquam sunt, sed delectus similique enim, perspiciatis nobis in nihil rem temporibus nam quam aut eum molestias? Exercitationem error dignissimos quaerat dolores! Magni atque aliquid sed suscipit non deleniti voluptatibus, dolorem rem delectus. Explicabo nulla, similique laborum, quis debitis praesentium aspernatur quam esse repellat possimus error voluptatibus a sequi nemo sint numquam quos consequatur quaerat mollitia saepe tenetur at consectetur ex fuga. Nemo explicabo ratione aspernatur in pariatur unde recusandae fugit odit nihil. Tempora corporis fugit veniam impedit eos? Distinctio modi suscipit dolores, quaerat veritatis at est, consequatur hic repellendus nihil nam dolorum ipsa, non dicta labore magni dolor voluptas repudiandae sunt rerum beatae!
    </p>
    
    <p class="cidade"></p>
    
    <p>
        <picture>
            <source srcset="http://files.cod3r.com.br/curso-web/logo-larga.png"
                media="(min-width: 600px)">
            <img src="http://files.cod3r.com.br/curso-web/logo-estreita.png" alt="Logo">
        </picture>
    </p>
</div>


<style>
    p {
        position: absolute;
        display: none;
    }
    .circular {
        width: 513px;
        background-color: #444;
    }
    .texto {
        width: 400px;
    }
    .texto img {
        margin-right: 10px;
    }
    .cidade {
        width: 513px;
        height: 342px;
        background-image: url('http://files.cod3r.com.br/curso-web/imagem4.jpg');
        background-position: center;
        background-repeat: no-repeat;
        background-size: 200%;
    }
</style>

<script>
    function mover(elem, inicio, fim, passo, callback) {
        const novoInicio = inicio - passo
        if(novoInicio >= fim) {
            elem.style.left = novoInicio + 'px'
            setTimeout(() => mover(elem, novoInicio, fim, passo, callback), 7)
        } else {
            callback()
        }
    }
    // const p = document.querySelector('[wm-slider] > p')
    // p.style.display = 'block'
    // mover(p, 1500, -520, 5, () => {
    //     console.log('Terminou!!!')
    // })
    function slider() {
        const elementos = document.querySelectorAll('[wm-slider] > p')
        const slides = Array.from(elementos)
        exibirSlide(slides, slides[0])
    }
    function exibirSlide(slides, slide) {
        slide.style.display = 'block'
        const inicio = innerWidth
        const fim = -slide.clientWidth
        slide.style.left = `${inicio}px`
        mover(slide, inicio, fim, 5, () => {
            slide.style.display = 'none'
            exibirSlide(slides, getProximo(slides, slide))
        })
    }
    function getProximo(lista, atual) {
        const i = lista.indexOf(atual) + 1
        return i < lista.length ? lista[i] : lista[0]
    }
    slider()
</script>
