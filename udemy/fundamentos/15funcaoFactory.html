<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Função Factory</title>
</head>
<style>
*{
    margin: 1px;
    padding: 1px;
}
body{
    font-family: Verdana, Geneva, Tahoma, sans-serif;
    color:rgb(12, 14, 32);
    background-color: beige;
    font-size: 0.9em;
}
</style>
<body>
    <h1>Função Factory:</h1>
    <p id="pList"></p>
<script>
    //Function "print" bellow replaces documento.write that has issues in browsers!
    // Os ... faz com que seja possível fazer esta função varias vezes usando multiplos argumentos - não só t 
    function print(...t){
        var p = document.createElement("p")
        var texto = document.createTextNode(t)
        p.appendChild(texto)
        document.getElementById("pList").appendChild(p)
    }
    // print(`  ${ }.`)

    //factory simples - uma função que retorna um objeto
    function criarPessoas(){
        return{
            nome: "Ana",
            Sobrenome: "Silva"
        }
    }
    print(criarPessoas)

    function criarProduto(nome, preco, desconto = 0.1){
        return{
            nome, 
            preco, 
            desconto: 0.2
        }
    }
    print(criarProduto)

    console.log(criarProduto("pc", 1000))
    print(criarProduto("pc", 1000))

    console.log(criarProduto("ipad", 1500))
    print(criarProduto("ipad", 1500)) //Mais fácil ver os objetos no console.  Não aparecem no browser.
   
    //-----Classe x Função Factory
    //Usando a class
    class Pessoa{
        constructor(nome) {
            this.nome = nome
        }
        falar(){
        print(`Meu nome é ${this.nome}.`)
        }
    }

    //Usando Função Factory
    const p1 = new Pessoa("Marcelo")
    p1.falar()

    const criarPessoa = nome => {
        return{
            falar: () => print(`Meu nome é ${nome}.`)
        }
    }
    const p2 = criarPessoa("Mateo")
    p2.falar()

    //Usando Função Construtora
    function Pessoa3 (nome) {
            this.nome = nome
        
        this.falar = function() {
            print(`Meu nome é ${this.nome}.`)
        }
    }
    
    const p3 = new Pessoa3("Marcela")
    p3.falar()




</script>
</body>
</html>